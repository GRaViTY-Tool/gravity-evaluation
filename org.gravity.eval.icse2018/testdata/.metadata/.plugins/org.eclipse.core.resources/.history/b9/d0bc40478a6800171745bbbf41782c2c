package edu.ncsu.csc.itrust.unit.action;

import static org.junit.Assert.*;

import org.junit.Before;

import edu.ncsu.csc.itrust.action.AddOphthalmologySurgeryAction;
import edu.ncsu.csc.itrust.action.EditOphthalmologySurgeryAction;
import edu.ncsu.csc.itrust.beans.OphthalmologySurgeryRecordBean;
import edu.ncsu.csc.itrust.dao.DAOFactory;
import edu.ncsu.csc.itrust.exception.FormValidationException;
import edu.ncsu.csc.itrust.exception.ITrustException;
import edu.ncsu.csc.itrust.unit.datagenerators.TestDataGenerator;
import edu.ncsu.csc.itrust.unit.testutils.TestDAOFactory;

public class AddEditViewOphthalmologySurgeryActionTest {
	private final long LOGGED_IN_MID = 9000000086L;
	private final long PATIENT_MID = 407L;
	private final long DEPENDENT_MID = 409L;
	
	@Before
	public void setUp() throws Exception {
		TestDataGenerator gen = new TestDataGenerator();
		gen.clearAllTables();
		gen.standardData();
	}
	
	public void testErrors() throws FormValidationException{
		DAOFactory prodDAO = TestDAOFactory.getTestInstance();
		AddOphthalmologySurgeryAction addAction = new AddOphthalmologySurgeryAction(prodDAO, 401L);
		EditOphthalmologySurgeryAction editAction = new EditOphthalmologySurgeryAction(prodDAO, 401L);
		
		OphthalmologySurgeryRecordBean nullBean = null;
		
		try{
			addAction.addOphthalmologySurgery(nullBean);
			fail();
		}catch(ITrustException e){
			assertNull(nullBean);
		}
		
		try{
			editAction.editOphthalmologySurgery(1, nullBean);
			fail();
		}catch(ITrustException e){
			assertNull(nullBean);
		}
	}
	
}
