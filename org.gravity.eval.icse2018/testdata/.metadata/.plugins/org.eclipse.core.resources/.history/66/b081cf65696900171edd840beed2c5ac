package edu.ncsu.csc.itrust.beans;

import java.util.List;

/**
 * Bean to be used for survey results (search).  Stores address information about a HCP
 * in addition to their specialty, hospital, and averages from survey (results range from 1-5).  This
 * beans also contains a variable that stores the percent of office visits that satisfaction results are 
 * available.
 */
public class SurveyResultBean {

	private long hcpMID;
	private String hcpFirstName;
	private String hcpLastName;
	private String hcpAddress1;
	private String hcpAddress2;
	private String hcpCity;
	private String hcpState;
	private String hcpZip;
	private String hcpSpecialty;
	private String hcpHospitalID;
	private float avgWaitingRmMinutes;
	private float avgExamRmMinutues;
	private float avgVisitSatisfaction;
	private float avgTreatmentSatisfaction;
	private float percentSatResultsAvailable;
	
	//list of specialties
	public final static String GENERAL_SPECIALTY = "General";
	public final static String SURGEON_SPECIALTY = "Surgeon";
	public final static String HEART_SPECIALTY = "Heart Specialist";
	public final static String PEDIATRICIAN_SPECIALTY = "Pediatrician";
	public final static String OBGYN_SPECIALTY = "OB/GYN";
	public final static String ANY_SPECIALTY = "None";
	
	public void setHCPMID(long mid) {
		hcpMID = mid;
	}
	public long getHCPMID() {
		return hcpMID;
	}
	
	public void setHCPFirstName(String firstName) {
		this.hcpFirstName = firstName;
	}
	public String getHCPFirstName() {
		return hcpFirstName;
	}
	
	public void setHCPLastName(String lastName) {
		this.hcpLastName = lastName;
	}
	public String getHCPLastName() {
		return hcpLastName;
	}
	
	public void setHCPaddress1(String address1) {
		this.hcpAddress1 = address1;
	}
	public String getHCPaddress1() {
		return hcpAddress1;
	}
	
	public void setHCPaddress2(String address2) {
		this.hcpAddress2 = address2;
	}
	public String getHCPaddress2() {
		return hcpAddress2;
	}
	
	public void setHCPcity(String city) {
		this.hcpCity = city;
	}
	public String getHCPcity() {
		return hcpCity;
	}
	
	public void setHCPstate(String state) {
		this.hcpState = state;
	}
	public String getHCPstate() {
		return hcpState;
	}
	
	public void setHCPzip(String zip) {
		this.hcpZip = zip;
	}
	public String getHCPzip() {
		return hcpZip;
	}
	
	public void setHCPspecialty(String specialty) {
		this.hcpSpecialty = specialty;
	}
	public String getHCPspecialty() {
		return hcpSpecialty;
	}
	
	public void setHCPhospital(String hospital) {
		this.hcpHospitalID = hospital;
	}
	public String getHCPhospital() {
		return hcpHospitalID;
	}
	
	public void setAvgWaitingRoomMinutes(float waitingRoomMinutes) {
		this.avgWaitingRmMinutes = waitingRoomMinutes;
	}
	public float getAvgWaitingRoomMinutes() {
		return avgWaitingRmMinutes;
	}
	
	public void setAvgExamRoomMinutes(float examRoomMinutes) {
		this.avgExamRmMinutues = examRoomMinutes;
	}
	public float getAvgExamRoomMinutes() {
		return avgExamRmMinutues;
	}
	
	public void setAvgVisitSatisfaction(float visitSatisfaction) {
		this.avgVisitSatisfaction = visitSatisfaction;
	}
	public float getAvgVisitSatisfaction() {
		return avgVisitSatisfaction;
	}
	
	public void setAvgTreatmentSatisfaction(float treatmentSatisfaction) {
		this.avgTreatmentSatisfaction = treatmentSatisfaction;
	}
	public float getAvgTreatmentSatisfaction() {
		return avgTreatmentSatisfaction;
	}
	
	public void setPercentSatisfactionResults (float percent) {
		this.percentSatResultsAvailable= percent;
	}
	public float getPercentSatisfactionResults() {
		return percentSatResultsAvailable;
	}
	public void testSurveyResultsHeartSpecialty() throws Exception {
		List<SurveyResultBean> list = surveyResultDAO.getSurveyResultsForZip("27613", SurveyResultBean.HEART_SPECIALTY);	
		SurveyResultBean bean = list.get(0);
		assertEquals(1, list.size());
		assertEquals(9100000001L, bean.getHCPMID());
		assertEquals("Bad", bean.getHCPFirstName());
		assertEquals("Doctor", bean.getHCPLastName());
		assertEquals("Avenue 1", bean.getHCPaddress1());
		assertEquals("Avenue 2", bean.getHCPaddress2());
		assertEquals("Raleigh", bean.getHCPcity());
		assertEquals("NC", bean.getHCPstate());
		assertEquals("27613", bean.getHCPzip());
		assertEquals(SurveyResultBean.HEART_SPECIALTY, bean.getHCPspecialty());
		assertEquals("na", bean.getHCPhospital());
		assertEquals(20.0F, bean.getAvgWaitingRoomMinutes());
		assertEquals(30.0F, bean.getAvgExamRoomMinutes());
		assertEquals(1.0F, bean.getAvgVisitSatisfaction());
		assertEquals(2.0F, bean.getAvgTreatmentSatisfaction());
		assertEquals(75F, bean.getPercentSatisfactionResults());
	}
	public void testSurveyResultsNothing() throws Exception {
		List<SurveyResultBean> list = surveyResultDAO.getSurveyResultsForHospital("9191919191", SurveyResultBean.HEART_SPECIALTY);	
		assertEquals(0, list.size());
	}
	public void testSurveyResultsNoZip() throws Exception {
		List<SurveyResultBean> list = surveyResultDAO.getSurveyResultsForZip("99999", SurveyResultBean.ANY_SPECIALTY);	
		assertEquals(0, list.size());
	}
	public void testSurveyResultsHospitalAnySpecialty2() throws Exception {
		List<SurveyResultBean> list = surveyResultDAO.getSurveyResultsForHospital("9191919191", SurveyResultBean.ANY_SPECIALTY);	
		assertEquals(2, list.size());
		SurveyResultBean bean = list.get(1);
		assertEquals(9100000000L, bean.getHCPMID());
		assertEquals("Good", bean.getHCPFirstName());
		assertEquals("Doctor", bean.getHCPLastName());
		assertEquals(50F, bean.getPercentSatisfactionResults());
	}
}
